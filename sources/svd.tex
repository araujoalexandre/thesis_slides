
\begin{tikzpicture}[
  baseline,
  every left delimiter/.style={xshift=+0.85em},
  every right delimiter/.style={xshift=-0.5em},
  mymat/.style={
    matrix of math nodes,
    ampersand replacement=\&,
    left delimiter=(,
    right delimiter=),
    nodes in empty cells,
    nodes={
     outer sep=-0.3mm,
     text depth=0.5ex,
     text height=0.8ex,
     text width=0.8em,
     align=center}
  }
  ]
  \matrix[mymat] (matu) {
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
  };
  \node at ([shift={(10pt,-5pt)}]matu-3-2.west) {$\cdots$};
  \node at ([shift={(10pt,-5pt)}]matu-3-5.west) {$\cdots$};
  \foreach \Columna/\Valor in {1/1,3/r,4/{r+1},6/n} {
    \def\mytestcolor{none}
    \ifnum\Columna=1\relax\def\mytestcolor{myred}\fi
    \ifnum\Columna=3\relax\def\mytestcolor{RoyalBlue}\fi
    \draw [fill=\mytestcolor] (matu-1-\Columna.north) rectangle ([xshift=4pt]matu-6-\Columna.south);
    % \node[above] at ([xshift=2pt]matu-1-\Columna.north west) {$\uvec_{\Valor}$};
  }
  % \draw[decorate,decoration={brace,mirror,raise=3pt}] 
  %   (matu-6-1.south west) -- 
  %    node[below=4pt] {$\Mcol(\Amat)$}
  %   ([xshift=4pt]matu-6-3.south west);
  % \draw[decorate,decoration={brace,mirror,raise=3pt}] 
  %   (matu-6-4.south west) -- 
  %    node[below=4pt] {$\Mnull(\Amat)$}
  %   ([xshift=4pt]matu-6-6.south west);
  \draw[decorate,decoration={brace,mirror,raise=5pt}]
     (matu-1-3.north east) -- 
      node[above=6pt] {$r$ columns}
     (matu-1-1.north west);
  \matrix[mymat,right=10pt of matu] (matsigma) {
    \sigma_{1} \& \& \& \& \& \\
    \& \ddots \& \& \& \& \\
    \& \& \sigma_{r} \& \& \& \\
    \& \& \& 0 \& \& \\
    \& \& \& \& \ddots \& \\
    \& \& \& \& \& 0 \\
  };
  \matrix[mymat,right=10pt of matsigma] (matv) {
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
  };
  \node at ([shift={(2pt,-5pt)}]matv-2-3.east) {$\cdots$};
  \node at ([shift={(2pt,-5pt)}]matv-5-3.east) {$\cdots$};
  \foreach \Fila/\Valor in {1/1,3/r,4/{r+1},6/n} {
    \def\mytestcolor{none}
    \ifnum\Fila=1\relax\def\mytestcolor{OrangePSL}\fi
    \ifnum\Fila=3\relax\def\mytestcolor{color2}\fi
    \draw[fill=\mytestcolor] ([yshift=-6pt]matv-\Fila-1.north west) rectangle ([yshift=-10pt]matv-\Fila-6.north east);
  }

  \matrix[mymat,below=15pt of matu] (mat1) {
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
    \& \& \& \& \& \\
  };
  \matrix[mymat,right=10pt of mat1] (mat2) {
    {\color{color1}{\absf}} \& {\color{color2}{\bbsf}} \& {\color{color3}{\cbsf}} \& {\color{color4}{\dbsf}} \& {\color{color5}{\ebsf}} \& {\color{color6}{\fbsf}} \\
    {\color{color6}{\fbsf}} \& {\color{color1}{\absf}} \& {\color{color2}{\bbsf}} \& {\color{color3}{\cbsf}} \& {\color{color4}{\dbsf}} \& {\color{color5}{\ebsf}} \\
    {\color{color5}{\ebsf}} \& {\color{color6}{\fbsf}} \& {\color{color1}{\absf}} \& {\color{color2}{\bbsf}} \& {\color{color3}{\cbsf}} \& {\color{color4}{\dbsf}} \\
    {\color{color4}{\dbsf}} \& {\color{color5}{\ebsf}} \& {\color{color6}{\fbsf}} \& {\color{color1}{\absf}} \& {\color{color2}{\bbsf}} \& {\color{color3}{\cbsf}} \\
    {\color{color3}{\cbsf}} \& {\color{color4}{\dbsf}} \& {\color{color5}{\ebsf}} \& {\color{color6}{\fbsf}} \& {\color{color1}{\absf}} \& {\color{color2}{\bbsf}} \\
    {\color{color2}{\bbsf}} \& {\color{color3}{\cbsf}} \& {\color{color4}{\dbsf}} \& {\color{color5}{\ebsf}} \& {\color{color6}{\fbsf}} \& {\color{color1}{\absf}} \\
  };


  \draw [color6,fill=color6, rounded corners=1mm, opacity=0.5] (mat2-1-4.north west) rectangle (mat2-1-4.south east);
  \draw [color6,fill=color6, rounded corners=1mm, opacity=0.5] (mat2-3-2.north west) rectangle (mat2-3-2.south east);
  \draw [color6,fill=color6, rounded corners=1mm, opacity=0.5] (mat2-2-1.north west) rectangle (mat2-2-1.south east);
  \draw [color6,fill=color6, rounded corners=1mm, opacity=0.5] (mat2-4-3.north west) rectangle (mat2-4-3.south east);

  \draw [color5,fill=color5, rounded corners=1mm, opacity=0.5] (mat2-1-4.north west) rectangle (mat2-1-4.south east);
  \draw [color5,fill=color5, rounded corners=1mm, opacity=0.5] (mat2-3-2.north west) rectangle (mat2-3-2.south east);
  \draw [color5,fill=color5, rounded corners=1mm, opacity=0.5] (mat2-2-1.north west) rectangle (mat2-2-1.south east);
  \draw [color5,fill=color5, rounded corners=1mm, opacity=0.5] (mat2-4-3.north west) rectangle (mat2-4-3.south east);

  \draw [color4,fill=color4, rounded corners=1mm, opacity=0.5] (mat2-1-4.north west) rectangle (mat2-1-4.south east);
  \draw [color4,fill=color4, rounded corners=1mm, opacity=0.5] (mat2-3-2.north west) rectangle (mat2-3-2.south east);
  \draw [color4,fill=color4, rounded corners=1mm, opacity=0.5] (mat2-2-1.north west) rectangle (mat2-2-1.south east);
  \draw [color4,fill=color4, rounded corners=1mm, opacity=0.5] (mat2-4-3.north west) rectangle (mat2-4-3.south east);

  \draw [color3,fill=color3, rounded corners=1mm, opacity=0.5] (mat2-1-3.north west) rectangle (mat2-1-3.south east);
  \draw [color3,fill=color3, rounded corners=1mm, opacity=0.5] (mat2-2-4.north west) rectangle (mat2-2-4.south east);
  \draw [color3,fill=color3, rounded corners=1mm, opacity=0.5] (mat2-3-1.north west) rectangle (mat2-3-1.south east);
  \draw [color3,fill=color3, rounded corners=1mm, opacity=0.5] (mat2-4-2.north west) rectangle (mat2-4-2.south east);

  \draw [color2,fill=color2, rounded corners=1mm, opacity=0.5] (mat2-1-2.north west) rectangle (mat2-1-2.south east);
  \draw [color2,fill=color2, rounded corners=1mm, opacity=0.5] (mat2-2-3.north west) rectangle (mat2-2-3.south east);
  \draw [color2,fill=color2, rounded corners=1mm, opacity=0.5] (mat2-3-4.north west) rectangle (mat2-3-4.south east);
  \draw [color2,fill=color2, rounded corners=1mm, opacity=0.5] (mat2-4-1.north west) rectangle (mat2-4-1.south east);

  \draw [color1,fill=color1, rounded corners=1mm, opacity=0.5] (mat2-1-1.north west) rectangle (mat2-1-1.south east);
  \draw [color1,fill=color1, rounded corners=1mm, opacity=0.5] (mat2-2-2.north west) rectangle (mat2-2-2.south east);
  \draw [color1,fill=color1, rounded corners=1mm, opacity=0.5] (mat2-3-3.north west) rectangle (mat2-3-3.south east);
  \draw [color1,fill=color1, rounded corners=1mm, opacity=0.5] (mat2-4-4.north west) rectangle (mat2-4-4.south east);
  \draw [color1,fill=color1, rounded corners=1mm, opacity=0.5] (mat2-5-5.north west) rectangle (mat2-5-5.south east);
  \draw [color1,fill=color1, rounded corners=1mm, opacity=0.5] (mat2-6-6.north west) rectangle (mat2-6-6.south east);


  \matrix[mymat,right=10pt of mat2] (mat3) {
    1 \& \& \& \& \& \\
    \& \ddots \& \& \& \& \\
    \& \& 1 \& \& \& \\
    \& \& \& 0 \& \& \\
    \& \& \& \& \ddots \& \\
    \& \& \& \& \& 0 \\
  };
  \draw[decorate,decoration={brace,mirror,raise=10pt,aspect=0.85}]
     (mat3-1-6.north east) -- 
      node[below=3pt] { }
     (mat1-1-1.north west);
  % \draw[decorate,decoration={brace,raise=0pt}] 
  %   ($(mat3-1-1.north)+(.0,.0)$) -- ($(mat3-3-3.north east)+(0.1,-0.17)$)
  %   node[above=5pt,midway,sloped] {$r$};

  


\end{tikzpicture}
