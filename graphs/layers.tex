\begin{tikzpicture}
\begin{axis}[
    width=0.85\textwidth,
    height=0.6\textwidth,
    title={\parbox{7cm}{\centering \textbf{Comparison of the effect of compactness over different layers with the base model}}},
    legend style={draw=black},
    legend cell align={left},
    xlabel={Epochs},
    ylabel={Validation GAP},
    xmin=0, xmax=7,
    ymin=0.77, ymax=0.86,
    % ymin=0.50, ymax=0.86,
    xtick={0,1,2,3,4,5,6,7},
    ytick={0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86},
    % ytick={0.50,0.55,0.6,0.65,0.70,0.75,0.8,0.85,0.9},
    legend pos=outer north east,
    ymajorgrids=true,
    grid style=dashed,
	]
  \addplot[color=red] table [y=gap, x=epoch]{data/layers/dense.dat};
  \addplot[color=yellow] table [y=gap, x=epoch]{data/layers/compact_dbof.dat};
  \addplot[color=blue] table [y=gap, x=epoch]{data/layers/compact_fc.dat};
  \addplot[color=green] table [y=gap, x=epoch]{data/layers/compact_moe.dat};
  \draw [<-] (axis cs:2.0,0.834) -- +(-10pt,+10pt) node[left] {9.2\%};
  \draw [<-] (axis cs:2.8,0.835) -- +(+10pt,-10pt) node[right] {original};
  \draw [<-] (axis cs:5.2,0.830) -- +(+10pt,-10pt) node[right] {18.4\%};
  \draw [<-] (axis cs:5.0,0.800) -- +(+10pt,-10pt) node[right] {72.0\%};

\legend{
   Model with Dense Layers,
   Model with compact Layer1, 
   Model with compact Layer2, 
   Model with compact Layer3,
 }
\end{axis}
\end{tikzpicture}
